{"ast":null,"code":"import _regeneratorRuntime from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var baseURL='https://strangers-things.herokuapp.com/api/2206-FTB-ET-WEB-PT';export var getPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(token){var response,results;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(baseURL,\"/posts\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context.sent;results=response.json();return _context.abrupt(\"return\",results);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('error getting all posts');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getPosts(_x){return _ref.apply(this,arguments);};}();export var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(baseURL,\"/users/register\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:result=_context2.sent;return _context2.abrupt(\"return\",result);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log('error registering user');case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function registerUser(_x2,_x3){return _ref2.apply(this,arguments);};}();export var loginUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(username,password){var response,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(baseURL,\"/users/login\"),{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify({user:{username:username,password:password}})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;return _context3.abrupt(\"return\",result);case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(\"error logging in\");case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function loginUser(_x4,_x5){return _ref3.apply(this,arguments);};}();export var getUserDetails=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(baseURL,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}});case 3:response=_context4.sent;_context4.next=6;return response.json();case 6:result=_context4.sent;return _context4.abrupt(\"return\",result);case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](0);console.log('error getting users details');case 13:case\"end\":return _context4.stop();}}},_callee4,null,[[0,10]]);}));return function getUserDetails(_x6){return _ref4.apply(this,arguments);};}();export var createPost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(token,_ref5){var title,description,price,location,willDeliver,response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:title=_ref5.title,description=_ref5.description,price=_ref5.price,location=_ref5.location,willDeliver=_ref5.willDeliver;_context5.prev=1;_context5.next=4;return fetch(\"\".concat(baseURL,\"/posts\"),{method:\"POST\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}})});case 4:response=_context5.sent;_context5.next=7;return response.json();case 7:result=_context5.sent;return _context5.abrupt(\"return\",result);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](1);console.log('error creating a new post');case 14:case\"end\":return _context5.stop();}}},_callee5,null,[[1,11]]);}));return function createPost(_x7,_x8){return _ref6.apply(this,arguments);};}();export var updatePost=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(token,_ref7,postID){var title,description,price,location,willDeliver,response,result;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:title=_ref7.title,description=_ref7.description,price=_ref7.price,location=_ref7.location,willDeliver=_ref7.willDeliver;_context6.prev=1;_context6.next=4;return fetch(\"\".concat(baseURL,\"/posts/\").concat(postID),{method:\"PATCH\",headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({post:{title:title,description:description,price:price,location:location,willDeliver:willDeliver}})});case 4:response=_context6.sent;_context6.next=7;return response.json();case 7:result=_context6.sent;return _context6.abrupt(\"return\",result);case 11:_context6.prev=11;_context6.t0=_context6[\"catch\"](1);console.log('error editing post');case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[1,11]]);}));return function updatePost(_x9,_x10,_x11){return _ref8.apply(this,arguments);};}();export var createMessage=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(_ref9){var postID,token,message,respons;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:postID=_ref9.postID,token=_ref9.token,message=_ref9.message;_context7.prev=1;_context7.next=4;return fetch(\"\".concat(baseURL,\"/posts/\").concat(postID,\"/messages\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({message:message})});case 4:respons=_context7.sent;_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](1);console.log('error creating message');case 10:case\"end\":return _context7.stop();}}},_callee7,null,[[1,7]]);}));return function createMessage(_x12){return _ref10.apply(this,arguments);};}();export var deletePost=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(token,postID){var response,results;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return fetch(\"\".concat(baseURL,\"/posts/\").concat(postID),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}});case 3:response=_context8.sent;_context8.next=6;return response.json();case 6:results=_context8.sent;console.log(results);return _context8.abrupt(\"return\",results);case 11:_context8.prev=11;_context8.t0=_context8[\"catch\"](0);console.log('error deleting post');case 14:case\"end\":return _context8.stop();}}},_callee8,null,[[0,11]]);}));return function deletePost(_x13,_x14){return _ref11.apply(this,arguments);};}();","map":{"version":3,"names":["baseURL","getPosts","token","fetch","headers","response","results","json","console","log","registerUser","username","password","method","body","JSON","stringify","user","result","loginUser","getUserDetails","createPost","title","description","price","location","willDeliver","post","updatePost","postID","createMessage","message","respons","deletePost"],"sources":["/Users/david/Day 1/Stranger Things/src/api/index.js"],"sourcesContent":["const baseURL = 'https://strangers-things.herokuapp.com/api/2206-FTB-ET-WEB-PT'\n\nexport const getPosts = async(token) =>{\n  try{\nconst response = await fetch(`${baseURL}/posts`,{\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`\n  },\n});\nconst results =response.json();\nreturn(results);\n  } catch(ex){\n      console.log('error getting all posts')\n  }\n}\nexport const registerUser = async (username, password) => {\n    try {\n      const response = await fetch(`${baseURL}/users/register`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      })\n      const result = await response.json();\n      return result;\n    } catch(error) {\n      console.log('error registering user')\n    }\n  }\n\n\n  export const loginUser = async (username, password) => {\n    try{\n      const response = await fetch(`${baseURL}/users/login`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      })\n      const result = await response.json();\n      return result;\n    } catch(error){\n      console.log(\"error logging in\")\n    }\n\n\n\n  }\n\n\n  export const getUserDetails = async (token) => {\n    try {\n      const response = await fetch(`${baseURL}/users/me`, {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n      })\n      \n      const result = await response.json();\n      return result;\n      \n    } catch(ex) {\n      console.log('error getting users details')\n    }\n  }\n\n\n  export const createPost = async (token, {title, description, price, location, willDeliver})=> {\n    try {\n      const response = await fetch(`${baseURL}/posts`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          post: {\n            title,\n            description,\n            price,\n            location,\n            willDeliver\n          }\n        })\n      })\n      \n      const result = await response.json();\n      return result;\n    } catch(ex) {\n      console.log('error creating a new post')\n    }\n  }\n\n  export const updatePost = async(token, {title, description, price, location, willDeliver}, postID)=> {\n    try {\n      const response = await fetch(`${baseURL}/posts/${postID}`, {\n        method: \"PATCH\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          post: {\n            title,\n            description,\n            price,\n            location,\n            willDeliver\n          }\n        })\n      })\n      \n      const result = await response.json();\n      return result;    \n    } catch(ex) {\n      console.log('error editing post')\n    }\n  }\n\n  export const createMessage = async ({postID, token, message}) => {\n    try {\n      const respons = await fetch(`${baseURL}/posts/${postID}/messages`, {\n       method: 'POST',\n       headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n       },\n       body: JSON.stringify({\n        message\n       })\n      })\n    } catch(ex) {\n      console.log('error creating message')\n    }\n  }\n\n\n  export const deletePost = async (token, postID) => {\n    try {\n      const response = await fetch(`${baseURL}/posts/${postID}`, {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      })\n      const results = await response.json();\n      console.log(results)\n      return (results)\n    } catch (ex) {\n      console.log('error deleting post')\n    }\n  }\n     \n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}