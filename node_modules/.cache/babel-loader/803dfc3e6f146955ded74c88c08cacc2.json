{"ast":null,"code":"import _regeneratorRuntime from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useParams}from'react-router-dom';import{createMessage}from'../api';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var deleteButton=function deleteButton(){/*#__PURE__*/_jsx(\"button\",{onClick:true,children:\"Delete\"});};var SendMessage=function SendMessage(_ref){var postID=_ref.postID,token=_ref.token,navigate=_ref.navigate;var _useState=useState({content:''}),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];function addMessage(){return _addMessage.apply(this,arguments);}function _addMessage(){_addMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return createMessage({postID:postID,message:message,token:token});case 2:case\"end\":return _context.stop();}}},_callee);}));return _addMessage.apply(this,arguments);}if(token){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(ev){ev.preventDefault();addMessage();navigate('/posts');},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Message\",onChange:function onChange(ev){return setMessage({content:ev.target.value});}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Message\"})]});}};var SinglePostView=function SinglePostView(_ref2){var posts=_ref2.posts,token=_ref2.token,navigate=_ref2.navigate;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),activateMessage=_useState4[0],setActivateMessage=_useState4[1];var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];var title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Will Deliver: \",willDeliver]}),/*#__PURE__*/_jsx(Link,{id:\"return\",to:\"/posts\",children:\"Return\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setActivateMessage(!activateMessage);},children:\"Message this user\"}),activateMessage&&/*#__PURE__*/_jsx(SendMessage,{postID:postID,token:token,navigate:navigate,posts:posts})]})});};export default SinglePostView;","map":{"version":3,"names":["React","useState","useParams","createMessage","Link","deleteButton","SendMessage","postID","token","navigate","content","message","setMessage","addMessage","ev","preventDefault","target","value","SinglePostView","posts","activateMessage","setActivateMessage","filter","post","_id","currentPost","title","description","location","price","willDeliver"],"sources":["/Users/david/Day 1/Stranger Things/src/components/SinglePostView.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { createMessage } from '../api';\nimport { Link } from 'react-router-dom';\n\nconst deleteButton = () => {\n   <button onClick>Delete</button>\n}\n \n\nconst SendMessage = ({ postID, token,navigate }) => {\n  const [message, setMessage] = useState({content: ''});\n \n    \n  async function addMessage() {\n    await createMessage({postID, message, token})\n  }\n  if (token){\n  return (\n    <form onSubmit={ (ev)=> {\n      ev.preventDefault();\n      addMessage();\n      navigate('/posts')\n    }}>\n      <input\n        type='text'\n        placeholder='Enter Message'\n        onChange={ (ev) => setMessage({content: ev.target.value}) }\n      />\n      <button type='submit'>Send Message</button>\n    </form>\n  )\n}}\n\nconst SinglePostView = ({ posts, token,navigate }) => {\n  const [activateMessage, setActivateMessage] = useState(false);\n  \n  const { postID } = useParams();\n  \n  const [currentPost] = posts.filter(post => post._id === postID);\n  \n  const {title, description, location, price, willDeliver} = currentPost;\n  \n  return (\n    <div>\n      <div className=\"card\">\n        <h3>{title}</h3>\n        <p>Description: {description}</p>\n        <p>Price: {price}</p>\n        <p>Location: {location}</p>\n        <p>Will Deliver: {willDeliver}</p>\n        <Link id=\"return\" to='/posts'>Return</Link>\n      \n      \n      <button onClick={() => setActivateMessage(!activateMessage)}>Message this user</button>\n     \n      {\n        activateMessage && <SendMessage postID={postID} token={token} navigate={navigate} posts={posts}/>\n      }\n      </div>\n    </div>\n  )\n}\n\nexport default SinglePostView;\n"],"mappings":"wXAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,aAAT,KAA8B,QAA9B,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACxB,4BAAQ,OAAO,KAAf,qBACF,CAFD,CAKA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAgC,IAA7BC,OAA6B,MAA7BA,MAA6B,CAArBC,KAAqB,MAArBA,KAAqB,CAAfC,QAAe,MAAfA,QAAe,CAClD,cAA8BR,QAAQ,CAAC,CAACS,OAAO,CAAE,EAAV,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eADkD,QAInCC,WAJmC,0IAIlD,2JACQV,cAAa,CAAC,CAACI,MAAM,CAANA,MAAD,CAASI,OAAO,CAAPA,OAAT,CAAkBH,KAAK,CAALA,KAAlB,CAAD,CADrB,uDAJkD,6CAOlD,GAAIA,KAAJ,CAAU,CACV,mBACE,cAAM,QAAQ,CAAG,kBAACM,EAAD,CAAO,CACtBA,EAAE,CAACC,cAAH,GACAF,UAAU,GACVJ,QAAQ,CAAC,QAAD,CAAR,CACD,CAJD,wBAKE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,eAFd,CAGE,QAAQ,CAAG,kBAACK,EAAD,QAAQF,WAAU,CAAC,CAACF,OAAO,CAAEI,EAAE,CAACE,MAAH,CAAUC,KAApB,CAAD,CAAlB,EAHb,EALF,cAUE,eAAQ,IAAI,CAAC,QAAb,0BAVF,GADF,CAcD,CAAC,CAtBF,CAwBA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,OAA+B,IAA5BC,MAA4B,OAA5BA,KAA4B,CAArBX,KAAqB,OAArBA,KAAqB,CAAfC,QAAe,OAAfA,QAAe,CACpD,eAA8CR,QAAQ,CAAC,KAAD,CAAtD,yCAAOmB,eAAP,eAAwBC,kBAAxB,eAEA,eAAmBnB,SAAS,EAA5B,CAAQK,MAAR,YAAQA,MAAR,CAEA,kBAAsBY,KAAK,CAACG,MAAN,CAAa,SAAAC,IAAI,QAAIA,KAAI,CAACC,GAAL,GAAajB,MAAjB,EAAjB,CAAtB,gDAAOkB,WAAP,mBAEA,GAAOC,MAAP,CAA2DD,WAA3D,CAAOC,KAAP,CAAcC,WAAd,CAA2DF,WAA3D,CAAcE,WAAd,CAA2BC,QAA3B,CAA2DH,WAA3D,CAA2BG,QAA3B,CAAqCC,KAArC,CAA2DJ,WAA3D,CAAqCI,KAArC,CAA4CC,WAA5C,CAA2DL,WAA3D,CAA4CK,WAA5C,CAEA,mBACE,kCACE,aAAK,SAAS,CAAC,MAAf,wBACE,oBAAKJ,KAAL,EADF,cAEE,qCAAiBC,WAAjB,GAFF,cAGE,+BAAWE,KAAX,GAHF,cAIE,kCAAcD,QAAd,GAJF,cAKE,sCAAkBE,WAAlB,GALF,cAME,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,EAAE,CAAC,QAArB,oBANF,cASA,eAAQ,OAAO,CAAE,yBAAMT,mBAAkB,CAAC,CAACD,eAAF,CAAxB,EAAjB,+BATA,CAYEA,eAAe,eAAI,KAAC,WAAD,EAAa,MAAM,CAAEb,MAArB,CAA6B,KAAK,CAAEC,KAApC,CAA2C,QAAQ,CAAEC,QAArD,CAA+D,KAAK,CAAEU,KAAtE,EAZrB,GADF,EADF,CAmBD,CA5BD,CA8BA,cAAeD,eAAf"},"metadata":{},"sourceType":"module"}