{"ast":null,"code":"import _regeneratorRuntime from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/david/Day 1/Stranger Things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';import{updatePost,deletePost,getPosts}from'../api';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditPost=function EditPost(_ref){var posts=_ref.posts,token=_ref.token,fetchPosts=_ref.fetchPosts,navigate=_ref.navigate;var _useParams=useParams(),postID=_useParams.postID;var _posts$filter=posts.filter(function(post){return post._id===postID;}),_posts$filter2=_slicedToArray(_posts$filter,1),currentPost=_posts$filter2[0];var title=currentPost.title,description=currentPost.description,location=currentPost.location,price=currentPost.price,willDeliver=currentPost.willDeliver;var _useState=useState(title),_useState2=_slicedToArray(_useState,2),newtitle=_useState2[0],setNewTitle=_useState2[1];var _useState3=useState(description),_useState4=_slicedToArray(_useState3,2),newdescription=_useState4[0],setNewDescription=_useState4[1];var _useState5=useState(price),_useState6=_slicedToArray(_useState5,2),newprice=_useState6[0],setNewPrice=_useState6[1];var _useState7=useState(location),_useState8=_slicedToArray(_useState7,2),newlocation=_useState8[0],setNewLocation=_useState8[1];var _useState9=useState(willDeliver),_useState10=_slicedToArray(_useState9,2),newwillDeliver=_useState10[0],setNewWillDeliver=_useState10[1];function editPost(){return _editPost.apply(this,arguments);}function _editPost(){_editPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var updatedPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updatedPost={title:newtitle,description:newdescription,price:newprice,location:newlocation,willDeliver:newwillDeliver};_context.next=3;return updatePost(token,updatedPost,postID);case 3:fetchPosts();navigate('/posts');case 5:case\"end\":return _context.stop();}}},_callee);}));return _editPost.apply(this,arguments);}return/*#__PURE__*/ (// This needs to be a form that accepts the 5 request parameters for creating a post\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{class:\"form\",onSubmit:function onSubmit(event){event.preventDefault();editPost();window.location-'/posts';},children:[/*#__PURE__*/_jsx(\"input\",{class:\"createPost\",type:\"text\",placeholder:title,onChange:function onChange(event){return setNewTitle(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{class:\"createPost\",id:\"description\",type:\"text\",placeholder:description,onChange:function onChange(event){return setNewDescription(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{class:\"createPost\",type:\"text\",placeholder:price,onChange:function onChange(event){return setNewPrice(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{class:\"createPost\",type:\"text\",placeholder:location,onChange:function onChange(event){return setNewLocation(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{class:\"createPost\",type:\"checkbox\",checked:newwillDeliver,onChange:function onChange(event){return setNewWillDeliver(event.target.checked);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Edit Post\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(){deletePost(token,postID);},children:\"Delete\"})]})}));};export default EditPost;","map":{"version":3,"names":["React","useState","updatePost","deletePost","getPosts","useParams","EditPost","posts","token","fetchPosts","navigate","postID","filter","post","_id","currentPost","title","description","location","price","willDeliver","newtitle","setNewTitle","newdescription","setNewDescription","newprice","setNewPrice","newlocation","setNewLocation","newwillDeliver","setNewWillDeliver","editPost","updatedPost","event","preventDefault","window","target","value","checked"],"sources":["/Users/david/Day 1/Stranger Things/src/components/EditPost.js"],"sourcesContent":["\n\nimport  {React, useState } from 'react';\nimport {updatePost, deletePost, getPosts} from '../api'\nimport { useParams } from 'react-router-dom';\n\n\n\n\n\nconst EditPost = ({ posts, token,fetchPosts, navigate }) => {\n    const { postID } = useParams();\n  \n    const [currentPost] = posts.filter(post => post._id === postID);\n    \n    const {title, description, location, price, willDeliver} = currentPost;\n\n\n const [newtitle, setNewTitle] = useState(title);\nconst [newdescription, setNewDescription] = useState(description);\nconst [newprice, setNewPrice] = useState(price);\nconst [newlocation, setNewLocation] = useState(location);\nconst [newwillDeliver, setNewWillDeliver] = useState(willDeliver);\n\n\nasync function editPost() {\n    const updatedPost = {\n        title: newtitle,\n        description: newdescription,\n        price: newprice,\n        location: newlocation,\n        willDeliver: newwillDeliver\n       \n        \n    }\n   \n    \n    await updatePost(token,updatedPost,postID)\n    fetchPosts();\n    navigate('/posts')\n   \n  \n  }\n\n  \n  return (\n    // This needs to be a form that accepts the 5 request parameters for creating a post\n    <>\n     <form  class='form' onSubmit={(event) => {\n      event.preventDefault();\n      editPost();\n    \n      window.location - '/posts'\n    }}>\n    <input \n      class=\"createPost\"\n        type='text'\n        placeholder={title}\n        onChange={(event) => setNewTitle(event.target.value)}\n      />\n       <input \n      class=\"createPost\"\n      id='description'\n        type='text'\n        placeholder={description}\n        onChange={(event) => setNewDescription(event.target.value)}\n      />\n       <input \n      class=\"createPost\"\n        type='text'\n        placeholder={price}\n        onChange={(event) => setNewPrice(event.target.value)}\n      />\n       <input \n      class=\"createPost\"\n        type='text'\n        placeholder={location}\n        onChange={(event) => setNewLocation(event.target.value)}\n      />\n       <input \n      class=\"createPost\"\n        type='checkbox'\n        checked={newwillDeliver}\n        onChange={(event) => setNewWillDeliver(event.target.checked)}\n      />\n    <button type=\"submit\">Edit Post</button>\n    <button type=\"submit\" onClick={() =>{\n      deletePost(token,postID);\n    }}>\n      Delete\n    </button>\n\n    </form>\n    </>\n \n   )\n}\n\n\n\n\n\nexport default EditPost;"],"mappings":"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"},"metadata":{},"sourceType":"module"}